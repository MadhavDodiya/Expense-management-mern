{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';// Context\nimport{AuthProvider}from'./context/AuthContext';import{ExpenseProvider}from'./context/ExpenseContext';// Components\nimport PrivateRoute from'./components/Common/PrivateRoute';import Layout from'./components/Common/Layout';// Pages\nimport Login from'./pages/Login';import Register from'./pages/Register';import ForgotPassword from'./pages/ForgotPassword';import ResetPassword from'./pages/ResetPassword';import AdminDashboard from'./pages/AdminDashboard';import ManagerDashboard from'./pages/ManagerDashboard';import EmployeeDashboard from'./pages/EmployeeDashboard';import ExpenseList from'./pages/ExpenseList';import ExpenseForm from'./pages/ExpenseForm';import ExpenseDetails from'./pages/ExpenseDetails';import ApprovalQueue from'./pages/ApprovalQueue';import UserManagement from'./pages/UserManagement';import CompanySettings from'./pages/CompanySettings';import Profile from'./pages/Profile';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(ExpenseProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:/*#__PURE__*/_jsx(ForgotPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password\",element:/*#__PURE__*/_jsx(ResetPassword,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(DashboardRedirect,{})}),/*#__PURE__*/_jsx(Route,{path:\"admin-dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:['ADMIN'],children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"manager-dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:['MANAGER'],children:/*#__PURE__*/_jsx(ManagerDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"employee-dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:['EMPLOYEE'],children:/*#__PURE__*/_jsx(EmployeeDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"expenses\",element:/*#__PURE__*/_jsx(ExpenseList,{})}),/*#__PURE__*/_jsx(Route,{path:\"expenses/new\",element:/*#__PURE__*/_jsx(ExpenseForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"expenses/:id\",element:/*#__PURE__*/_jsx(ExpenseDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"expenses/:id/edit\",element:/*#__PURE__*/_jsx(ExpenseForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"approvals\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:['ADMIN','MANAGER'],children:/*#__PURE__*/_jsx(ApprovalQueue,{})})}),/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:['ADMIN'],children:/*#__PURE__*/_jsx(UserManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"settings\",element:/*#__PURE__*/_jsx(PrivateRoute,{roles:['ADMIN'],children:/*#__PURE__*/_jsx(CompanySettings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{})})]})]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]})})})});}// Component to redirect to appropriate dashboard based on role\nconst DashboardRedirect=()=>{const role=localStorage.getItem('userRole');switch(role){case'ADMIN':return/*#__PURE__*/_jsx(Navigate,{to:\"/admin-dashboard\",replace:true});case'MANAGER':return/*#__PURE__*/_jsx(Navigate,{to:\"/manager-dashboard\",replace:true});case'EMPLOYEE':return/*#__PURE__*/_jsx(Navigate,{to:\"/employee-dashboard\",replace:true});default:return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","ToastContainer","AuthProvider","ExpenseProvider","PrivateRoute","Layout","Login","Register","ForgotPassword","ResetPassword","AdminDashboard","ManagerDashboard","EmployeeDashboard","ExpenseList","ExpenseForm","ExpenseDetails","ApprovalQueue","UserManagement","CompanySettings","Profile","jsx","_jsx","jsxs","_jsxs","App","children","className","path","element","index","DashboardRedirect","roles","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","role","localStorage","getItem","to","replace"],"sources":["C:/Madhav Dodiya/Expense-management-mern/expense-management-mern/frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n// Context\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport { ExpenseProvider } from './context/ExpenseContext';\r\n\r\n// Components\r\nimport PrivateRoute from './components/Common/PrivateRoute';\r\nimport Layout from './components/Common/Layout';\r\n\r\n// Pages\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport ForgotPassword from './pages/ForgotPassword';\r\nimport ResetPassword from './pages/ResetPassword';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport ManagerDashboard from './pages/ManagerDashboard';\r\nimport EmployeeDashboard from './pages/EmployeeDashboard';\r\nimport ExpenseList from './pages/ExpenseList';\r\nimport ExpenseForm from './pages/ExpenseForm';\r\nimport ExpenseDetails from './pages/ExpenseDetails';\r\nimport ApprovalQueue from './pages/ApprovalQueue';\r\nimport UserManagement from './pages/UserManagement';\r\nimport CompanySettings from './pages/CompanySettings';\r\nimport Profile from './pages/Profile';\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <ExpenseProvider>\r\n        <Router>\r\n          <div className=\"App\">\r\n            <Routes>\r\n              {/* Public Routes */}\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"/register\" element={<Register />} />\r\n              <Route path=\"/forgot-password\" element={<ForgotPassword />} />\r\n              <Route path=\"/reset-password\" element={<ResetPassword />} />\r\n\r\n              {/* Private Routes */}\r\n              <Route path=\"/\" element={<PrivateRoute><Layout /></PrivateRoute>}>\r\n                {/* Dashboard Routes */}\r\n                <Route index element={<DashboardRedirect />} />\r\n                <Route path=\"admin-dashboard\" element={<PrivateRoute roles={['ADMIN']}><AdminDashboard /></PrivateRoute>} />\r\n                <Route path=\"manager-dashboard\" element={<PrivateRoute roles={['MANAGER']}><ManagerDashboard /></PrivateRoute>} />\r\n                <Route path=\"employee-dashboard\" element={<PrivateRoute roles={['EMPLOYEE']}><EmployeeDashboard /></PrivateRoute>} />\r\n\r\n                {/* Expense Routes */}\r\n                <Route path=\"expenses\" element={<ExpenseList />} />\r\n                <Route path=\"expenses/new\" element={<ExpenseForm />} />\r\n                <Route path=\"expenses/:id\" element={<ExpenseDetails />} />\r\n                <Route path=\"expenses/:id/edit\" element={<ExpenseForm />} />\r\n\r\n                {/* Approval Routes */}\r\n                <Route path=\"approvals\" element={<PrivateRoute roles={['ADMIN', 'MANAGER']}><ApprovalQueue /></PrivateRoute>} />\r\n\r\n                {/* User Management */}\r\n                <Route path=\"users\" element={<PrivateRoute roles={['ADMIN']}><UserManagement /></PrivateRoute>} />\r\n\r\n                {/* Settings */}\r\n                <Route path=\"settings\" element={<PrivateRoute roles={['ADMIN']}><CompanySettings /></PrivateRoute>} />\r\n\r\n                {/* Profile */}\r\n                <Route path=\"profile\" element={<Profile />} />\r\n              </Route>\r\n            </Routes>\r\n\r\n            <ToastContainer\r\n              position=\"top-right\"\r\n              autoClose={5000}\r\n              hideProgressBar={false}\r\n              newestOnTop={false}\r\n              closeOnClick\r\n              rtl={false}\r\n              pauseOnFocusLoss\r\n              draggable\r\n              pauseOnHover\r\n              theme=\"light\"\r\n            />\r\n          </div>\r\n        </Router>\r\n      </ExpenseProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\n// Component to redirect to appropriate dashboard based on role\r\nconst DashboardRedirect = () => {\r\n  const role = localStorage.getItem('userRole');\r\n\r\n  switch(role) {\r\n    case 'ADMIN':\r\n      return <Navigate to=\"/admin-dashboard\" replace />;\r\n    case 'MANAGER':\r\n      return <Navigate to=\"/manager-dashboard\" replace />;\r\n    case 'EMPLOYEE':\r\n      return <Navigate to=\"/employee-dashboard\" replace />;\r\n    default:\r\n      return <Navigate to=\"/login\" replace />;\r\n  }\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}