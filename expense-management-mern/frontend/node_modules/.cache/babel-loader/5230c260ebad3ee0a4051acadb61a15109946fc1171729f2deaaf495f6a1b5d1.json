{"ast":null,"code":"import _objectSpread from\"C:/Madhav Dodiya/Expense-management-mern/expense-management-mern/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useCallback,useMemo}from'react';import axios from'axios';import{toast}from'react-toastify';// Create context\nimport{jsx as _jsx}from\"react/jsx-runtime\";const ExpenseContext=/*#__PURE__*/createContext();// Initial state\nconst initialState={expenses:[],currentExpense:null,pendingApprovals:[],loading:false,filters:{status:'ALL',category:'ALL',startDate:'',endDate:'',page:1,limit:10},pagination:{totalPages:0,currentPage:1,totalExpenses:0}};// Expense reducer\nconst expenseReducer=(state,action)=>{switch(action.type){case'SET_LOADING':return _objectSpread(_objectSpread({},state),{},{loading:action.payload});case'SET_EXPENSES':return _objectSpread(_objectSpread({},state),{},{expenses:action.payload.expenses,pagination:{totalPages:action.payload.totalPages||0,currentPage:action.payload.currentPage||1,totalExpenses:action.payload.totalExpenses||0}});case'SET_CURRENT_EXPENSE':return _objectSpread(_objectSpread({},state),{},{currentExpense:action.payload});case'ADD_EXPENSE':return _objectSpread(_objectSpread({},state),{},{expenses:[action.payload,...state.expenses]});case'UPDATE_EXPENSE':return _objectSpread(_objectSpread({},state),{},{expenses:state.expenses.map(expense=>expense._id===action.payload._id?action.payload:expense),currentExpense:action.payload});case'DELETE_EXPENSE':return _objectSpread(_objectSpread({},state),{},{expenses:state.expenses.filter(expense=>expense._id!==action.payload)});case'SET_PENDING_APPROVALS':return _objectSpread(_objectSpread({},state),{},{pendingApprovals:action.payload});case'SET_FILTERS':return _objectSpread(_objectSpread({},state),{},{filters:_objectSpread(_objectSpread({},state.filters),action.payload)});case'RESET_FILTERS':return _objectSpread(_objectSpread({},state),{},{filters:initialState.filters});default:return state;}};// Expense provider component\nexport const ExpenseProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(expenseReducer,initialState);// Get user expenses\nconst getUserExpenses=useCallback(async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{dispatch({type:'SET_LOADING',payload:true});const params=new URLSearchParams();Object.keys(filters).forEach(key=>{if(filters[key]&&filters[key]!=='ALL'){params.append(key,filters[key]);}});const res=await axios.get(\"/api/expenses/my?\".concat(params));dispatch({type:'SET_EXPENSES',payload:res.data});}catch(error){console.error('Get user expenses error:',error);toast.error('Failed to load expenses');}finally{dispatch({type:'SET_LOADING',payload:false});}},[]);// Get company expenses (Admin/Manager)\nconst getCompanyExpenses=useCallback(async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{dispatch({type:'SET_LOADING',payload:true});const params=new URLSearchParams();Object.keys(filters).forEach(key=>{if(filters[key]&&filters[key]!=='ALL'){params.append(key,filters[key]);}});const res=await axios.get(\"/api/expenses/company?\".concat(params));dispatch({type:'SET_EXPENSES',payload:res.data});}catch(error){console.error('Get company expenses error:',error);toast.error('Failed to load company expenses');}finally{dispatch({type:'SET_LOADING',payload:false});}},[]);// Get single expense\nconst getExpense=useCallback(async id=>{try{dispatch({type:'SET_LOADING',payload:true});const res=await axios.get(\"/api/expenses/\".concat(id));dispatch({type:'SET_CURRENT_EXPENSE',payload:res.data.expense});return res.data.expense;}catch(error){console.error('Get expense error:',error);toast.error('Failed to load expense details');return null;}finally{dispatch({type:'SET_LOADING',payload:false});}},[]);// Create expense\nconst createExpense=useCallback(async expenseData=>{try{dispatch({type:'SET_LOADING',payload:true});const res=await axios.post('/api/expenses',expenseData,{headers:{'Content-Type':'multipart/form-data'}});dispatch({type:'ADD_EXPENSE',payload:res.data.expense});toast.success('Expense created successfully');return res.data.expense;}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error('Create expense error:',error);const message=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to create expense';toast.error(message);return null;}finally{dispatch({type:'SET_LOADING',payload:false});}},[]);// Update expense\nconst updateExpense=useCallback(async(id,expenseData)=>{try{dispatch({type:'SET_LOADING',payload:true});const res=await axios.put(\"/api/expenses/\".concat(id),expenseData,{headers:{'Content-Type':'multipart/form-data'}});dispatch({type:'UPDATE_EXPENSE',payload:res.data.expense});toast.success('Expense updated successfully');return res.data.expense;}catch(error){var _error$response3,_error$response3$data,_error$response4,_error$response4$data;console.error('Update expense error:',error);const message=((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Failed to update expense';toast.error(message);return null;}finally{dispatch({type:'SET_LOADING',payload:false});}},[]);// Delete expense\nconst deleteExpense=useCallback(async id=>{try{await axios.delete(\"/api/expenses/\".concat(id));dispatch({type:'DELETE_EXPENSE',payload:id});toast.success('Expense deleted successfully');return true;}catch(error){var _error$response5,_error$response5$data;console.error('Delete expense error:',error);const message=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Failed to delete expense';toast.error(message);return false;}},[]);// Process OCR\nconst processOCR=useCallback(async file=>{try{const formData=new FormData();formData.append('receipt',file);const res=await axios.post('/api/ocr/process',formData,{headers:{'Content-Type':'multipart/form-data'}});if(res.data.success){toast.success('Receipt processed successfully');return res.data.data;}}catch(error){console.error('OCR processing error:',error);toast.error('Failed to process receipt');return null;}},[]);// Get pending approvals\nconst getPendingApprovals=useCallback(async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{dispatch({type:'SET_LOADING',payload:true});const params=new URLSearchParams();Object.keys(filters).forEach(key=>{if(filters[key]){params.append(key,filters[key]);}});const res=await axios.get(\"/api/approvals/pending?\".concat(params));dispatch({type:'SET_PENDING_APPROVALS',payload:res.data.expenses});}catch(error){console.error('Get pending approvals error:',error);toast.error('Failed to load pending approvals');}finally{dispatch({type:'SET_LOADING',payload:false});}},[]);// Process approval\nconst processApproval=useCallback(async(expenseId,decision,comments)=>{try{const res=await axios.post(\"/api/approvals/\".concat(expenseId),{decision,comments});// Update the expense in pending approvals\ndispatch({type:'SET_PENDING_APPROVALS',payload:state.pendingApprovals.filter(expense=>expense._id!==expenseId)});toast.success(\"Expense \".concat(decision.toLowerCase(),\" successfully\"));return res.data.expense;}catch(error){var _error$response6,_error$response6$data;console.error('Process approval error:',error);const message=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'Failed to process approval';toast.error(message);return null;}},[state.pendingApprovals]);const setFilters=useCallback(filters=>{dispatch({type:'SET_FILTERS',payload:filters});},[]);const resetFilters=useCallback(()=>{dispatch({type:'RESET_FILTERS'});},[]);const value=useMemo(()=>_objectSpread(_objectSpread({},state),{},{getUserExpenses,getCompanyExpenses,getExpense,createExpense,updateExpense,deleteExpense,processOCR,getPendingApprovals,processApproval,setFilters,resetFilters}),[state,getUserExpenses,getCompanyExpenses,getExpense,createExpense,updateExpense,deleteExpense,processOCR,getPendingApprovals,processApproval,setFilters,resetFilters]);return/*#__PURE__*/_jsx(ExpenseContext.Provider,{value:value,children:children});};// Custom hook to use expense context\nexport const useExpense=()=>{const context=useContext(ExpenseContext);if(!context){throw new Error('useExpense must be used within an ExpenseProvider');}return context;};export default ExpenseContext;","map":{"version":3,"names":["React","createContext","useContext","useReducer","useCallback","useMemo","axios","toast","jsx","_jsx","ExpenseContext","initialState","expenses","currentExpense","pendingApprovals","loading","filters","status","category","startDate","endDate","page","limit","pagination","totalPages","currentPage","totalExpenses","expenseReducer","state","action","type","_objectSpread","payload","map","expense","_id","filter","ExpenseProvider","_ref","children","dispatch","getUserExpenses","arguments","length","undefined","params","URLSearchParams","Object","keys","forEach","key","append","res","get","concat","data","error","console","getCompanyExpenses","getExpense","id","createExpense","expenseData","post","headers","success","_error$response","_error$response$data","_error$response2","_error$response2$data","message","response","updateExpense","put","_error$response3","_error$response3$data","_error$response4","_error$response4$data","deleteExpense","delete","_error$response5","_error$response5$data","processOCR","file","formData","FormData","getPendingApprovals","processApproval","expenseId","decision","comments","toLowerCase","_error$response6","_error$response6$data","setFilters","resetFilters","value","Provider","useExpense","context","Error"],"sources":["C:/Madhav Dodiya/Expense-management-mern/expense-management-mern/frontend/src/context/ExpenseContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useCallback, useMemo } from 'react';\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\n// Create context\r\nconst ExpenseContext = createContext();\r\n\r\n// Initial state\r\nconst initialState = {\r\n  expenses: [],\r\n  currentExpense: null,\r\n  pendingApprovals: [],\r\n  loading: false,\r\n  filters: {\r\n    status: 'ALL',\r\n    category: 'ALL',\r\n    startDate: '',\r\n    endDate: '',\r\n    page: 1,\r\n    limit: 10\r\n  },\r\n  pagination: {\r\n    totalPages: 0,\r\n    currentPage: 1,\r\n    totalExpenses: 0\r\n  }\r\n};\r\n\r\n// Expense reducer\r\nconst expenseReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: action.payload };\r\n    case 'SET_EXPENSES':\r\n      return { \r\n        ...state, \r\n        expenses: action.payload.expenses,\r\n        pagination: {\r\n          totalPages: action.payload.totalPages || 0,\r\n          currentPage: action.payload.currentPage || 1,\r\n          totalExpenses: action.payload.totalExpenses || 0\r\n        }\r\n      };\r\n    case 'SET_CURRENT_EXPENSE':\r\n      return { ...state, currentExpense: action.payload };\r\n    case 'ADD_EXPENSE':\r\n      return { \r\n        ...state, \r\n        expenses: [action.payload, ...state.expenses] \r\n      };\r\n    case 'UPDATE_EXPENSE':\r\n      return {\r\n        ...state,\r\n        expenses: state.expenses.map(expense =>\r\n          expense._id === action.payload._id ? action.payload : expense\r\n        ),\r\n        currentExpense: action.payload\r\n      };\r\n    case 'DELETE_EXPENSE':\r\n      return {\r\n        ...state,\r\n        expenses: state.expenses.filter(expense => expense._id !== action.payload)\r\n      };\r\n    case 'SET_PENDING_APPROVALS':\r\n      return { ...state, pendingApprovals: action.payload };\r\n    case 'SET_FILTERS':\r\n      return { ...state, filters: { ...state.filters, ...action.payload } };\r\n    case 'RESET_FILTERS':\r\n      return { ...state, filters: initialState.filters };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Expense provider component\r\nexport const ExpenseProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(expenseReducer, initialState);\r\n\r\n  // Get user expenses\r\n  const getUserExpenses = useCallback(async (filters = {}) => {\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n\r\n      const params = new URLSearchParams();\r\n      Object.keys(filters).forEach(key => {\r\n        if (filters[key] && filters[key] !== 'ALL') {\r\n          params.append(key, filters[key]);\r\n        }\r\n      });\r\n\r\n      const res = await axios.get(`/api/expenses/my?${params}`);\r\n      dispatch({ type: 'SET_EXPENSES', payload: res.data });\r\n    } catch (error) {\r\n      console.error('Get user expenses error:', error);\r\n      toast.error('Failed to load expenses');\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\n\r\n  // Get company expenses (Admin/Manager)\r\n  const getCompanyExpenses = useCallback(async (filters = {}) => {\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n\r\n      const params = new URLSearchParams();\r\n      Object.keys(filters).forEach(key => {\r\n        if (filters[key] && filters[key] !== 'ALL') {\r\n          params.append(key, filters[key]);\r\n        }\r\n      });\r\n\r\n      const res = await axios.get(`/api/expenses/company?${params}`);\r\n      dispatch({ type: 'SET_EXPENSES', payload: res.data });\r\n    } catch (error) {\r\n      console.error('Get company expenses error:', error);\r\n      toast.error('Failed to load company expenses');\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\n\r\n  // Get single expense\r\n  const getExpense = useCallback(async (id) => {\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n      const res = await axios.get(`/api/expenses/${id}`);\r\n      dispatch({ type: 'SET_CURRENT_EXPENSE', payload: res.data.expense });\r\n      return res.data.expense;\r\n    } catch (error) {\r\n      console.error('Get expense error:', error);\r\n      toast.error('Failed to load expense details');\r\n      return null;\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\n\r\n  // Create expense\r\n  const createExpense = useCallback(async (expenseData) => {\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n      const res = await axios.post('/api/expenses', expenseData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      dispatch({ type: 'ADD_EXPENSE', payload: res.data.expense });\r\n      toast.success('Expense created successfully');\r\n      return res.data.expense;\r\n    } catch (error) {\n      console.error('Create expense error:', error);\n      const message =\n        error.response?.data?.error ||\n        error.response?.data?.message ||\n        'Failed to create expense';\n      toast.error(message);\n      return null;\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\n\r\n  // Update expense\r\n  const updateExpense = useCallback(async (id, expenseData) => {\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n      const res = await axios.put(`/api/expenses/${id}`, expenseData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      dispatch({ type: 'UPDATE_EXPENSE', payload: res.data.expense });\r\n      toast.success('Expense updated successfully');\r\n      return res.data.expense;\r\n    } catch (error) {\n      console.error('Update expense error:', error);\n      const message =\n        error.response?.data?.error ||\n        error.response?.data?.message ||\n        'Failed to update expense';\n      toast.error(message);\n      return null;\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\n\r\n  // Delete expense\r\n  const deleteExpense = useCallback(async (id) => {\n    try {\r\n      await axios.delete(`/api/expenses/${id}`);\r\n      dispatch({ type: 'DELETE_EXPENSE', payload: id });\r\n      toast.success('Expense deleted successfully');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Delete expense error:', error);\r\n      const message = error.response?.data?.message || 'Failed to delete expense';\r\n      toast.error(message);\r\n      return false;\r\n    }\r\n  }, []);\n\r\n  // Process OCR\r\n  const processOCR = useCallback(async (file) => {\n    try {\r\n      const formData = new FormData();\r\n      formData.append('receipt', file);\r\n\r\n      const res = await axios.post('/api/ocr/process', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      if (res.data.success) {\r\n        toast.success('Receipt processed successfully');\r\n        return res.data.data;\r\n      }\r\n    } catch (error) {\r\n      console.error('OCR processing error:', error);\r\n      toast.error('Failed to process receipt');\r\n      return null;\r\n    }\r\n  }, []);\n\r\n  // Get pending approvals\r\n  const getPendingApprovals = useCallback(async (filters = {}) => {\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n\r\n      const params = new URLSearchParams();\r\n      Object.keys(filters).forEach(key => {\r\n        if (filters[key]) {\r\n          params.append(key, filters[key]);\r\n        }\r\n      });\r\n\r\n      const res = await axios.get(`/api/approvals/pending?${params}`);\r\n      dispatch({ type: 'SET_PENDING_APPROVALS', payload: res.data.expenses });\r\n    } catch (error) {\r\n      console.error('Get pending approvals error:', error);\r\n      toast.error('Failed to load pending approvals');\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  }, []);\n\r\n  // Process approval\r\n  const processApproval = useCallback(async (expenseId, decision, comments) => {\n    try {\r\n      const res = await axios.post(`/api/approvals/${expenseId}`, {\r\n        decision,\r\n        comments\r\n      });\r\n\r\n      // Update the expense in pending approvals\r\n      dispatch({ \r\n        type: 'SET_PENDING_APPROVALS', \r\n        payload: state.pendingApprovals.filter(expense => expense._id !== expenseId)\r\n      });\r\n\r\n      toast.success(`Expense ${decision.toLowerCase()} successfully`);\r\n      return res.data.expense;\r\n    } catch (error) {\r\n      console.error('Process approval error:', error);\r\n      const message = error.response?.data?.message || 'Failed to process approval';\r\n      toast.error(message);\r\n      return null;\r\n    }\r\n  }, [state.pendingApprovals]);\n\n  const setFilters = useCallback((filters) => {\n    dispatch({ type: 'SET_FILTERS', payload: filters });\n  }, []);\n\n  const resetFilters = useCallback(() => {\n    dispatch({ type: 'RESET_FILTERS' });\n  }, []);\n\n  const value = useMemo(() => ({\n    ...state,\n    getUserExpenses,\n    getCompanyExpenses,\n    getExpense,\r\n    createExpense,\r\n    updateExpense,\r\n    deleteExpense,\r\n    processOCR,\n    getPendingApprovals,\n    processApproval,\n    setFilters,\n    resetFilters\n  }), [state, getUserExpenses, getCompanyExpenses, getExpense, createExpense, updateExpense, deleteExpense, processOCR, getPendingApprovals, processApproval, setFilters, resetFilters]);\n\r\n  return (\r\n    <ExpenseContext.Provider value={value}>\r\n      {children}\r\n    </ExpenseContext.Provider>\r\n  );\r\n};\r\n\r\n// Custom hook to use expense context\r\nexport const useExpense = () => {\r\n  const context = useContext(ExpenseContext);\r\n  if (!context) {\r\n    throw new Error('useExpense must be used within an ExpenseProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport default ExpenseContext;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}